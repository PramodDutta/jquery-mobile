<!DOCTYPE html>
<html>

<head>
	<title>New Note</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="apple-touch-icon" href="app-icon.jpg" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0-rc.1/jquery.mobile-1.1.0-rc.1.min.css" />
	<link rel="stylesheet" href="custom.css" />
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.1.0-rc.1/jquery.mobile-1.1.0-rc.1.min.js"></script>
	<script src="common.js"></script>
</head>

<body>

<div data-role="page" id="newNotePage">

  <div data-role="header" data-position="fixed">
    <a data-icon="back" data-rel="back">Back</a>
    <h1>New Note</h1>
    <a href="index.html" data-icon="check" id="noteSave">Save</a>
  </div>
  
  <div data-role="content">
    <textarea cols="40" rows="8" name="textarea" id="noteContent" style="width:100%;height:100%;"></textarea>
  </div>
  
  <div data-role="footer" data-position="fixed">
    <div data-role="navbar">
      <ul>
      <li><a href="index.html" data-theme="b">Notes</a></li>
      <li><a href="trash.html">Trash</a></li>
      </ul>
    </div>
  </div>
  
  <script type="text/javascript">
  
  $(document).delegate('#newNotePage', 'pageinit', function( e ) {
      //console.log(e.type + ": " + e.target.id);
	  $(document).undelegate('#noteSave', 'click').delegate('#noteSave', 'click', function(e) {
		  //console.log(e.type + ": " + e.target.id);
	      var $note = $.trim($("#noteContent").val());
	      if ($note.length === 0)
	        return false;
	      else
			save($note);
	  });
  });
  
  </script>
  
</div>
</body>
</html>
